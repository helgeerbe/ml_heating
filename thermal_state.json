{
  "metadata": {
    "version": "1.0",
    "format": "unified_thermal_state",
    "created": "2025-12-05T01:52:04.908359",
    "last_updated": "2025-12-05T07:16:22.631954"
  },
  "baseline_parameters": {
    "thermal_time_constant": 4.0,
    "heat_loss_coefficient": 0.24999971392004677,
    "outlet_effectiveness": 0.49126320303905247,
    "pv_heat_weight": 0.0005,
    "fireplace_heat_weight": 0.02,
    "tv_heat_weight": 0.1,
    "source": "calibrated",
    "calibration_date": "2025-12-05T01:52:05.913986",
    "calibration_cycles": 3683
  },
  "learning_state": {
    "cycle_count": 30,
    "learning_confidence": 4.239769148250204,
    "learning_enabled": true,
    "parameter_adjustments": {
      "thermal_time_constant_delta": 0.0016625746969580746,
      "heat_loss_coefficient_delta": -0.1302522966190897,
      "outlet_effectiveness_delta": 0.6995735386078512
    },
    "parameter_bounds": {
      "thermal_time_constant": [
        3.0,
        8.0
      ],
      "heat_loss_coefficient": [
        0.002,
        0.25
      ],
      "outlet_effectiveness": [
        0.2,
        2.0
      ]
    },
    "prediction_history": [
      {
        "timestamp": "2025-12-05T02:03:18.499562",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.2,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 1.0
        }
      },
      {
        "timestamp": "2025-12-05T02:08:18.532807",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.2,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 1.0
        }
      },
      {
        "timestamp": "2025-12-05T02:38:18.913500",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.2,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 1.0
        }
      },
      {
        "timestamp": "2025-12-05T02:43:19.022789",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.2,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T02:48:19.051433",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.2,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:02:19.255952",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 48.0,
          "outdoor_temp": 2.2,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:25:19.560640",
        "predicted": 20.9,
        "actual": 21.0,
        "error": 0.10000000000000142,
        "context": {
          "outlet_temp": 47.0,
          "outdoor_temp": 2.6,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:30:19.588987",
        "predicted": 20.9,
        "actual": 21.0,
        "error": 0.10000000000000142,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.6,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:40:19.734735",
        "predicted": 20.9,
        "actual": 21.0,
        "error": 0.10000000000000142,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.6,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:45:19.857860",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:50:19.901137",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T03:55:19.937536",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:00:19.966651",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:05:19.997265",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:10:20.025891",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:15:20.063091",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:20:20.090205",
        "predicted": 21.0,
        "actual": 21.0,
        "error": 0.0,
        "context": {
          "outlet_temp": 46.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:25:20.119566",
        "predicted": 21.0,
        "actual": 20.9,
        "error": -0.10000000000000142,
        "context": {
          "outlet_temp": 48.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:33:20.258784",
        "predicted": 21.0,
        "actual": 20.9,
        "error": -0.10000000000000142,
        "context": {
          "outlet_temp": 48.0,
          "outdoor_temp": 2.8,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:49:20.532399",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 48.0,
          "outdoor_temp": 3.0,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T04:54:20.585366",
        "predicted": 20.9,
        "actual": 20.9,
        "error": 0.0,
        "context": {
          "outlet_temp": 48.0,
          "outdoor_temp": 3.0,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T05:24:20.977031",
        "predicted": 20.9,
        "actual": 20.8,
        "error": -0.09999999999999787,
        "context": {
          "outlet_temp": 50.0,
          "outdoor_temp": 3.0,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T05:30:21.113450",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.4,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T05:35:21.149676",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.4,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T05:35:21.189011",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.4,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T06:05:21.570690",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 3.0,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T06:11:21.710005",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.6,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T06:16:21.737833",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.6,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T06:46:22.166081",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 49.0,
          "outdoor_temp": 2.6,
          "pv_power": 0.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      },
      {
        "timestamp": "2025-12-05T07:16:22.586514",
        "predicted": 20.8,
        "actual": 20.8,
        "error": 0.0,
        "context": {
          "outlet_temp": 25.0,
          "outdoor_temp": 2.8,
          "pv_power": 11.0,
          "fireplace_on": 0.0,
          "tv_on": 0.0
        }
      }
    ],
    "parameter_history": []
  },
  "prediction_metrics": {
    "total_predictions": 30,
    "accuracy_stats": {
      "mae_1h": 0.0,
      "mae_6h": 0.0,
      "mae_24h": 0.0,
      "mae_all_time": 0.0,
      "rmse_all_time": 0.0
    },
    "recent_performance": {
      "last_10_mae": 0.0,
      "last_10_max_error": 0.0
    }
  },
  "operational_state": {
    "last_indoor_temp": 20.8,
    "last_outdoor_temp": null,
    "last_outlet_temp": null,
    "last_prediction": null,
    "last_run_time": "2025-12-05T07:16:22.631950",
    "is_calibrating": false,
    "last_run_features": "   outlet_temp  ...  combined_forecast_thermal_load\n0         34.8  ...                            1.68\n\n[1 rows x 37 columns]",
    "last_final_temp": 25.000019073486328,
    "last_avg_other_rooms_temp": 19.6,
    "last_fireplace_on": null,
    "last_is_blocking": false,
    "last_blocking_reasons": [],
    "last_blocking_end_time": null
  }
}